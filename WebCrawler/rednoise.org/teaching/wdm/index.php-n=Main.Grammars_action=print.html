<!DOCTYPE html 
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <title>Writing Digital Media | Main / Grammars</title>
  <link rel='stylesheet' href='pub/skins/print/print.css' type='text/css' />
  <!--HTMLHeader--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  .editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none;}

--></style>  <meta name='robots' content='noindex,nofollow' />

</head>
<body>
  <div id='printhead'>
    <h3>From Writing Digital Media</h3>
    <h1 class='pagename'><a href='index.php-n=Main.HomePage.html'>Main: Grammars</a></h1>
  </div>
<!--PageText-->
<div id='wikitext'>
<h3>Context Free Grammars (CFGs)</h3>
<p>Grammar comes from the Greek <em>syntaxis</em>, meaning 'setting out together, or arrangement', and refers to the way items are arranged together. Notice we say 'items' instead of 'words' though most dictionary definitions will make some reference to written or spoken language. For our purposes however, we can imagine grammars pertaining to words, paragraphs, musical notes, recorded samples, drawing instructions, images, or even algorithmic processes (programming languages are good examples of grammars, specifically 'context-free' grammars which we'll be talk more about below). We can even use grammars as a means of procedurally defining other grammars, say a 'story' grammar which generates a paragraph grammar, which generates a sentence-level grammar, which generates a word-level grammar, and so on... 
</p>
<p class='vspace'>So what is a 'context-free' grammar or CFG? In essence, its simply a set of rules (or 'productions') which defines a valid sequence of items. For example purposes I'll refer to this sequence as a 'sentence', but remember that it can be a combination of nearly any type of items. If we are given such a 'sentence', a CFG can tell us whether it is grammatical (that is, syntactically correct) or not -- similar to how a compiler tells us whether a program is 'correct' syntactically. Perhaps more important for our purposes, once we have a valid CFG (we'll discuss what this means in a moment), we can use it to <em>generate</em> new 'sentences' accorded to its rules. Here's a simple context-free grammar for a small fragment of English:
</p>
<div class='vspace'></div><dl><dd><div class='indent'><strong>s   -&gt;  np vp </strong><br /><strong>np  -&gt;  det n </strong><br /><strong>vp  -&gt;  v </strong><br /><strong>vp  -&gt;  v np </strong><br /><strong>det -&gt;  'a' </strong><br /><strong>det -&gt;  'the' </strong><br /><strong>n   -&gt;  'woman'  </strong><br /><strong>n   -&gt;  'man' </strong><br /><strong>v   -&gt;  'shoots' </strong><br /><br />
</div></dd></dl><p>(Its important to note that while we can represent portions of natural languages (like English) using CFGs, they are generally too complex at larger scales. Such 'natural' languages are often called 'context-sensitive'.)
</p>
<p class='vspace'>So, what are the ingredients of the little grammar above? Well, first note that it contains three types of symbols: 
</p>
<div class='vspace'></div><ul><li>First, there's the <strong>-&gt;</strong> symbol, which is often used to define the rules. 
<div class='vspace'></div></li><li>Next there are symbols like these: s, np, vp, det, n, v. These symbols are called <strong>non-terminal</strong> symbols; we'll soon learn why. Here, s is short for sentence, np is short for noun phrase, vp is short for verb phrase, and det is short for determiner. Each of these symbols is shorthand for a grammatical category, though (again) they can stand for anything you want.
<div class='vspace'></div></li><li>Finally there are the symbols in quotations: 'a', 'the', 'woman', 'man', and 'shoots'. A computer scientist might call these <strong>terminal</strong> symbols, and linguists might call them 'lexical items';  we'll generally just call these <strong>words</strong> or <strong>strings</strong>.
</li></ul><p class='vspace'>Now, the grammar above contains nine rules. A context-free rule (by definition) consists of a single <strong>non-terminal</strong> symbol, followed by '-&gt;', followed by a finite sequence made up of <strong>terminal</strong> (strings) and/or <strong>non-terminal</strong> symbols. All nine items listed above have this form, so they are all legitimate context-free rules. What do these rules mean? They tell us how different grammatical categories can be built up. 
</p>
<p class='vspace'>Read <strong>-&gt;</strong> as 'can consist of', or 'is built from'. For example, the first rule (generally an 's' for either 'start' or 'sentence') tells us that a sentence (s) can consist of a noun phrase (np) followed by a verb phrase (vp). The third rule tells us that a verb phrase (vp) can consist of a verb (v) followed by a noun phrase (np), while the fourth rule tells us that there is another way to build a verb phrase (vp); simply use a verb (v). The last five rules tell us that 'a' and 'the' are determiners, that 'man' and 'woman' are nouns, and that 'shoots' is a verb.
</p>
<p class='vspace'>Here is the same grammar (with one change):
</p>
<div class='vspace'></div><dl><dd><div class='indent'><strong>s   -&gt;  np vp </strong><br /><strong>np  -&gt;  det n </strong><br /><strong>vp  -&gt;  v | v np </strong><br /><strong>det -&gt;  'a' </strong><br /><strong>det -&gt;  'the' </strong><br /><strong>n   -&gt;  'woman'  </strong><br /><strong>n   -&gt;  'man' </strong><br /><strong>v   -&gt;  'shoots' </strong><br /><br />
</div></dd></dl><p>Note that where before we had 2 rules that started with 'vp' on the left-side, we now have one. On the right-side of this one 'vp' rule, we find:  <strong>v np | v</strong>, which simply means a verb (v) followed by a noun-phrase (np) OR (shown by a '|' character)  a verb (v). So we combined 2 rules into one using the OR operator. This grammar is more compact (8 rules vs. 9 above), but otherwise fully equivalent to the one above. Notice we can also do the same for the 'det' and 'n' rules.
</p>
<div class='vspace'></div><dl><dd><div class='indent'><strong>s   -&gt;  np vp </strong><br /><strong>np  -&gt;  det n </strong><br /><strong>vp  -&gt;  v  | v np </strong><br /><strong>det -&gt;  'a' | 'the' </strong><br /><strong>n   -&gt;  'woman' | 'man'  </strong><br /><strong>v   -&gt;  'shoots' </strong><br /><br />
</div></dd></dl><p>So, how can we use such a grammar to <strong>generate</strong> text?
</p>
<p class='vspace'>Well, we simply start from the top (or <strong>start-symbol</strong>) and follow the rules, make substitutions as we go. Any time we come to an OR symbol, we randomly pick one of the choices (here I'll just take the first choice). So, for example, we might proceed as follows, starting from symbol s.
</p>
<div class='vspace'></div><pre>                          <span style='font-size:120%'><strong>s </strong></span>

                       <span style='font-size:120%'><strong>np   vp</strong></span> 

                    <span style='font-size:120%'><strong>det   n      v</strong></span> 

                  <span style='font-size:120%'><strong>'a'  'woman' 'shoots</strong>'</span>
</pre><p class='vspace'>Of course, we can repeat this process as many times as we want, making other 'random choices' and getting other variations.
</p>
<p class='vspace'>Now lets look at how at the <a class='urllink' href='http://rednoise.org/rita/reference/RiGrammar.html' rel='nofollow'>RiGrammar object</a> in <a class='urllink' href='http://rednoise.org/rita/' rel='nofollow'>RiTa</a>. Here's an example of a RiTa grammar <a class='urllink' href='http://www.rednoise.org/rita/examples/HaikuGrammar' rel='nofollow'>in action</a>... and here's the <a class='urllink' href='http://www.rednoise.org/rita/examples/haiku.json' rel='nofollow'>JSON grammar file</a>.
</p>
<p class='vspace'>Ok, so how would we translate the grammar above into JSON format? Give it a try...
</p>
<p class='vspace'  style='text-align: center;'> <a class='urllink' href='http://www.rednoise.org/rita/examples/test-grammar.json' rel='nofollow'>our example grammar in RiTa (JSON) format</a>
</p>
<p class='vspace'><br />
</p><h3>Other Types of Grammars</h3>
<p>When <a class='urllink' href='http://en.wikipedia.org/wiki/Noam_Chomsky' rel='nofollow'>Noam_Chomsky</a> first formalized generative grammars in 1956, he classified them into types now known as the <a class='urllink' href='http://en.wikipedia.org/wiki/Chomsky_hierarchy' rel='nofollow'>Chomsky_hierarchy</a>. The difference between these types is that they have increasingly strict production rules and can express fewer formal languages. Some important grammar 'types' include <a class='urllink' href='http://en.wikipedia.org/wiki/Context_sensitive_grammar' rel='nofollow'>'context-sensitive' grammars</a>, <a class='urllink' href='http://en.wikipedia.org/wiki/Context_free_grammar' rel='nofollow'>'context-free' grammars</a> (see above) and <a class='urllink' href='http://en.wikipedia.org/wiki/Regular_grammar' rel='nofollow'>'regular' grammars</a>. The languages that can be described with such a grammar are called context-sensitive, context-free, and regular languages, respectively. The latter two are the types of grammars most often used in <a class='urllink' href='http://en.wikipedia.org/wiki/Natural_language_processing' rel='nofollow'>natural_language_processing</a> because they, as opposed to context-sensitive grammars like English or Chinese, can be efficiently implemented in software (see  <a class='urllink' href='http://www.rednoise.org/rita/' rel='nofollow'>RiTa's RiGrammar object</a>).
</p>
<p class='vspace'><strong>Deterministic vs. Probabilistic</strong>
</p>
<p class='vspace'><em>Deterministic</em> grammars (according to the strict definition) have one production rule for each symbol. <em>Probabilistic</em> (or stochastic) grammars may contain several production rules for a symbol, each of which may be selected according to its probability values. For instance, the rules
</p>
<div class='vspace'></div><pre>    * (A &#8594; B) with P = 0.75 or (A &#8594; AB) with P = 0.25
</pre><p class='vspace'>means that each time A is obtained during the iterative process, a random choice must be made as whether to replace A with B or with AB based on probability P, so that the 1st rule will be selected 3 times as frequently (on average) as the 2nd.
</p>
<p class='vspace'>RiTa's <a class='urllink' href='http://rednoise.org/rita/reference/RiGrammar.html' rel='nofollow'>RiGrammar</a> object also supports probabilistic grammars, allowing for 'multiplier' tags to be added to any valid grammar with no other changes. An example from the grammar above:
</p>
<div class='vspace'></div><pre>  {
    &lt;vp&gt;
    &lt;v&gt;  | [3] &lt;v&gt; &lt;np&gt; 
  }
</pre><p class='vspace'>This specifies that the second rule, vp &#8594; v np is assigned 3 times the probability of the first; that is, a 75% probability vs. 25%.  
</p>
<p class='vspace'><br />
Another useful tool is the RiGrammarEditor, which allows you to edit your grammar <em>while</em> your program is running... You can open it (in Java) like so: 
</p>
<div class='vspace'></div><pre>  grammar = new RiGrammar();
  grammar.openEditor();
</pre><p class='vspace'><br />
<strong>Context-free vs. Context-sensitive</strong>
</p>
<p class='vspace'>Context-free grammars those in which the left hand side of a production rule is formed by a single non-terminal symbol. The following are context-free grammar rules:
</p>
<div class='vspace'></div><pre>    * (A &#8594; B); which means replace A with B
    * (A &#8594; B); (B &#8594; AB); which means replace A with B, then replace B with AB
</pre><p class='vspace'>Context-sensitive grammars are those in which production rules can depend on their neighbors. The following are context-sensitive rules:
</p>
<div class='vspace'></div><pre>    * (A &lt;B&gt; A &#8594; A); which says if B is surrounded by two A's, replace B with A
    * (A &lt;B&gt; B &#8594; B); which says if B is preceded by A and followed by B, leave B alone
</pre><p class='vspace'><br />
</p>
</div>

  <div id='printfoot'>
    <div class='from'>Retrieved from https://rednoise.org/teaching/wdm/index.php?n=Main.Grammars</div>
    <div class='lastmod'>Page last modified on January 30, 2014, at 01:50 AM EST</div></div>
<!--HTMLFooter-->
</body>
</html>
