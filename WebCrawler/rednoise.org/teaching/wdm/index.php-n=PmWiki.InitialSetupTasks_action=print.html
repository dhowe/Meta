<!DOCTYPE html 
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <title>Writing Digital Media | PmWiki / InitialSetupTasks</title>
  <link rel='stylesheet' href='pub/skins/print/print.css' type='text/css' />
  <!--HTMLHeader--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  .editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none;}

--></style>  <meta name='robots' content='noindex,nofollow' />

</head>
<body>
  <div id='printhead'>
    <h3>From Writing Digital Media</h3>
    <h1 class='pagename'><a href='index.php-n=PmWiki.PmWiki.html'>PmWiki: InitialSetupTasks</a></h1>
  </div>
<!--PageText-->
<div id='wikitext'>
<p>Once you have PmWiki running on your site (see <a class='wikilink' href='index.php-n=PmWiki.Installation_action=print.html'>Installation</a>), you can customize it for your particular needs.
</p>
<p class='vspace'>Most PmWiki configuration is performed in files called <em>local/config.php</em> and <em>pub/css/local.css</em>. 
Some configuration is done on special pages in the <a class='wikilink' href='index.php-n=Site.Site_action=print.html'>Site</a> and <a class='wikilink' href='index.php-n=SiteAdmin.SiteAdmin_action=print.html'>SiteAdmin</a> groups, such as the <a class='wikilink' href='index.php-n=Site.SideBar_action=print.html'>Site.SideBar</a> menu.
</p>
<div class='vspace'></div><h2>The local configuration file (<em>local/config.php</em>)</h2>
<p>When you first install PmWiki, the <em>local/config.php</em> file does not exist. Copy the <em>sample-config.php</em> file (in the <em>docs/</em> directory) to <em>local/config.php</em> and use it as a starting point.  You could create <em>local/config.php</em> from scratch, but <em>sample-config.php</em> is already populated with many of the options you might want to adjust.
</p>
<p class='vspace'>Here is a simple <em>config.php</em> file:
</p>
<div class='vspace'></div><div class='indent'><pre class='escaped'>
&lt;?php if (!defined('PmWiki')) exit();
$WikiTitle = "My New Wiki";
$PageLogoUrl = "http://example.com/mylogo.gif";

# Uncomment these if needed
#$ScriptUrl = 'http://example.com/pmwiki/pmwiki.php';
#$PubDirUrl = 'http://example.com/pmwiki/pub';

$DefaultPasswords['admin'] = pmcrypt('onesecret');

$EnableUpload = 1;
$DefaultPasswords['upload'] = pmcrypt('secrettwo');

# Uncomment and change these if needed
# putenv("TZ=EST5EDT"); # if you run PHP 5.0 or older
# date_default_timezone_set('America/New_York'); # if you run PHP 5.1 or newer

$TimeFmt = '%B %d, %Y, at %I:%M %p EST';
</pre>
</div><p class='vspace'>Note that <em>config.php</em> begins with <code>&lt;?php</code> . The PHP end tag <code>?&gt;</code> is optional, and can be left off to improve compatibility with some operating systems.  Be sure there aren't any blank lines or spaces before the <code>&lt;?php</code> or after any closing <code>?&gt;</code>, or else you may get strange PHP error messages at the beginning of your wiki pages.
</p>
<p class='vspace'>The <em>config.php</em> file above sets the value of PHP variables used by PmWiki:
</p><ul><li>The <a class='varlink' href='index.php-n=PmWiki.LayoutVariables.html#WikiTitle'><code class='varlink'>&#36;WikiTitle</code></a> variable gives the name of your site as it will appear in a user's browser title bar.
</li><li>The <code><a class='varlink' href='index.php-n=PmWiki.PathVariables.html#ScriptUrl'><code class='varlink'>&#36;ScriptUrl</code></a></code> and <code><a class='varlink' href='index.php-n=PmWiki.PathVariables.html#PubDirUrl'><code class='varlink'>&#36;PubDirUrl</code></a></code> variables tell your wiki where it is located.  Often pmwiki can guess, but if you have difficulty with links not working or skins not being found then try uncommenting these lines.
</li><li>The <a class='varlink' href='index.php-n=PmWiki.LayoutVariables.html#PageLogoUrl'><code class='varlink'>&#36;PageLogoUrl</code></a> variable specifies the URL of the icon image that will appear in the upper-left corner of each wiki page.
</li><li>The <code><a class='varlink' href='index.php-n=PmWiki.SecurityVariables.html#DefaultPasswords'><code class='varlink'>&#36;DefaultPasswords</code></a>['admin']</code> sets an administrative password.
</li><li>Setting <a class='varlink' href='index.php-n=PmWiki.UploadVariables.html#EnableUpload'><code class='varlink'>&#36;EnableUpload</code></a> to "1" enables Uploads ("Attached files").  <code><a class='varlink' href='index.php-n=PmWiki.SecurityVariables.html#DefaultPasswords'><code class='varlink'>&#36;DefaultPasswords</code></a>['upload']</code> sets an upload password.
</li><li>The TZ environment variable defines a particular time zone (see <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/ChangeTimeFormat' rel='nofollow'>Cookbook:ChangeTimeFormat</a>). If your site runs on PHP 5.1 or newer, it is recommended to use the function date_default_timezone_set, see below.
</li><li>The date_default_timezone_set tells PHP what the default time zone is. For other ways to set the time zone, and a list of identifiers, see <a class='urllink' href='http://php.net/manual/en/function.date-default-timezone-set.php' rel='nofollow'>the online PHP manual</a>.
</li><li>The <a class='varlink' href='index.php-n=PmWiki.BasicVariables.html#TimeFmt'><code class='varlink'>&#36;TimeFmt</code></a> variable defines the appearance of time strings and (along with TZ) localizes the wiki to a specific time zone (see <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/ChangeTimeFormat' rel='nofollow'>Cookbook:ChangeTimeFormat</a>).
</li></ul><p class='vspace'>By setting these (and other) variables in <em>local/config.php</em>, you can change the look and feel of PmWiki from its default, sometimes substantially so.  See <a class='wikilink' href='index.php-n=PmWiki.Variables_action=print.html'>PmWiki.Variables</a> for a list of variables that PmWiki uses, and see <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/PmWikiUsers' rel='nofollow'>PmWiki:PmWikiUsers</a> for examples of sites that use PmWiki in customized ways.
</p>
<div class='vspace'></div><h3>Other common setup tasks</h3>
<p>The following <a class='wikilink' href='index.php-n=PmWiki.Variables_action=print.html'>variables</a> are often requested when preparing a new wiki
</p><ul><li>Author required when editing a page <code><a class='varlink' href='index.php-n=PmWiki.EditVariables.html#EnablePostAuthorRequired'><code class='varlink'>&#36;EnablePostAuthorRequired</code></a> = 1;</code> 
</li><li>Set the <a class='varlink' href='index.php-n=PmWiki.BasicVariables.html#DefaultGroup'><code class='varlink'>&#36;DefaultGroup</code></a> 
</li></ul><p class='vspace'>These common <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/Cookbook' rel='nofollow'>Cookbook</a> recipes are also often installed immediately
</p><ul><li><a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/Clean%20Urls' rel='nofollow'>Clean Urls</a> - Remove the <code>?n=Group.Page</code> arguments from the end of URLs
</li></ul><p class='vspace'>If you prepare an international wiki, potentially with characters in different alphabets (Cyrillic, Greek, Chinese) or many diacritical symbols (Czech + French), please look at <a class='wikilink' href='index.php-n=PmWiki.UTF-8_action=print.html'>PmWiki.UTF-8</a> and <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/UTF-8' rel='nofollow'>Cookbook:UTF-8</a>.
</p>
<div class='vspace'></div><h2>Security</h2>
<p>Review and set up any <a class='wikilink' href='index.php-n=PmWiki.Security_action=print.html'>security</a> required.
</p>
<div class='vspace'></div><h3>Setting an administrative password</h3>
<p>The pages in the <a class='wikilink' href='index.php-n=Site.Site_action=print.html'>Site</a> group (except the Site.SideBar) are locked by default. In order to edit pages in this group you need to create a site-wide admin password in <em>local/config.php</em>.  To set the site-wide admin password to "<code>mysecret</code>", change the line to the following:
</p>
<div class='vspace'></div><div class='indent'><code class='escaped'>$DefaultPasswords['admin'] = pmcrypt('mysecret');</code>
</div><p class='vspace'>You must use the <code class='escaped'>pmcrypt()</code> function, but set the password to a value with meaning for you. See <a class='wikilink' href='index.php-n=PmWiki.PasswordsAdmin_action=print.html'>PasswordsAdmin</a> for details about making the password more secure.
</p>
<div class='vspace'></div><h2><a name='dontmodify' id='dontmodify'></a>Don't modify or rename <em>pmwiki.php</em></h2>
<p>PmWiki has been designed so that all customizations can be made without changing the distribution files -- one of its design goals is to provide seamless upgrades.   PmWiki never writes to files in the <em>local/</em> or <em>cookbook/</em> directories, so placing your customizations here makes it easier to track the changes and <a class='wikilink' href='index.php-n=PmWiki.Upgrades_action=print.html'>upgrade PmWiki</a> without losing the changes.
</p>
<p class='vspace'>When changing the configuration of your site, always change the <em>local/config.php</em> file or add files to the <em>cookbook/</em> or <em>pub</em> directories.  Do not change <em>pmwiki.php</em> or the files in the <em>scripts/</em> directory because the files are supposed to be overwritten upon upgrading.
</p>
<p class='vspace'>You shouldn't rename <em>pmwiki.php</em> either.  If you rename the file it will not be overwritten during an upgrade of the software and there will be a version mismatch.  Many administrators add an <em>index.php</em> "wrapper script" in the pmwiki directory that contains the following single line:
</p>
<div class='vspace'></div><div class='indent'><code class='escaped'>&lt;?php include('pmwiki.php');</code>
</div><p class='vspace'>Just  make an text-file. Paste &lt;?php include('pmwiki.php'); into it.
Save the file as index.php
Send it via FTP to the same directory as pmwiki.php is located. 
</p>
<div class='vspace'></div><h2>Other organisation</h2>
<h3>Upload directories</h3>
<p>By default Pmwiki uses an upload directory for each group
(see <a class='wikilink' href='index.php-n=PmWiki.UploadsAdmin_action=print.html'>Uploads administration</a>.
Deciding on accepting the default, or choosing an alternative (eg one directory for the entire wiki, or one directory per page) is best done when setting up your wiki.
</p>
<div class='vspace'></div><h3>Page store directories</h3>
<p>By default Pmwiki uses a single page store directory (wiki.d).
Deciding on accepting the default (recommended), or choosing the alternative (one directory per group) is best done when setting up your wiki. <sup><a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/PerGroupSubDirectories' rel='nofollow'>[1]</a></sup>
</p>
<div class='vspace'></div><h2>Other customization</h2>
<p>After setting up <em>local/config.php</em> file, you may wish to make other <a class='wikilink' href='index.php-n=PmWiki.LocalCustomizations_action=print.html'>local customizations</a>. See the <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/CookbookBasics' rel='nofollow'>PmWiki Cookbook</a> for a large number of customizations that have been contributed. And don't fear Cookbook recipes - they're well prepared, so that most of them require only to download a single file, add a one-line include command to <code>config.php</code>, and <em>voilà!</em> - they're working!
</p>
<p class='vspace'>If you (or others sharing your server) want to maintain more than one wiki on the same server, see <a class='wikilink' href='index.php-n=PmWiki.WikiFarms_action=print.html'>Wiki Farms</a>.
</p>
<div class='vspace'></div><h2>Now what?</h2>
<p>Don't forget to join a <a class='wikilink' href='index.php-n=PmWiki.MailingLists_action=print.html'>PmWiki mailing list</a>, where you can email other <a class='wikilink' href='index.php-n=PmWiki.WikiAdministrator_action=print.html'>wiki administrators</a> for help on customizing PmWiki and participate in discussions about PmWiki improvements.  Once you have your site operational, be sure to add it to <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/PmWikiUsers' rel='nofollow'>PmWiki:PmWikiUsers</a> so others will know about it!
</p>
</div>

  <div id='printfoot'>
    <div class='from'>Retrieved from https://rednoise.org/teaching/wdm/index.php?n=PmWiki.InitialSetupTasks</div>
    <div class='lastmod'>Page last modified on April 26, 2015, at 12:02 PM EST</div></div>
<!--HTMLFooter-->
</body>
</html>
