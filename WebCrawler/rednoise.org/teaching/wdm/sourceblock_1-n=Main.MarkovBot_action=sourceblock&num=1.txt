
import rita.*;
import tweeter.*; // be sure to also include your keys


RiMarkov markov;


void setup()
{
  size(650, 200);

  // create a markov model w' n=3
  markov = new RiMarkov(3);  

  // load 2 files into the markov model
  markov.loadFrom(new String[] { 

    "wittgenstein.txt", "kafka.txt"

  }, this);
}


void draw()
{
  String s = createTweet();

  println("-----------"+s.length()+"\n"+s);

  // uncomment to actually send the tweet
  //new Tweeter(ckey, csec, atok, asec).post(s);

  delay(3000); // 3 seconds, just for testing
}


String createTweet()
{
  String tweet = null;

  // make sure the tweet is less than 140 chars

  while (tweet == null || tweet.length () > 140)
    tweet = markov.generateSentence();

  return tweet;
}
