<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>

<!-- change fcfcfc -> 10004f   for dark borders -->

<title>Writing Digital Media | PmWiki / UrlApprovals browse</title>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="Content-Style-Type" content="text/css">

<!-- Update these tags -->
<meta name="description" content="programming for digital art and literature course web">
<meta name="keywords" content="e-writing daniel howe programming digital art literature">

<style type="text/css">@import url("pub/skins/evolver/evolver.css");
  <!-- $PageInlineStyle  -->
</style>

<!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  .editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none;}

--></style>  <meta name='robots' content='noindex,nofollow' />

</head>

<body> 

<table cellspacing="0" cellpadding="0" border="0" width="100%"
background="uploads/cardheader2.jpg"><!-- bgcolor=#4670ae -->

<tr><td height=120 valign=top>

<table cellspacing="0" cellpadding="5" border="0" height=100% width="1025">
<tr>
<!--td style="padding-left: 20px" align="left" valign="bottom"-->
<td align="right" valign="bottom">
	<table width=197 cellspacing="2" border="0" bgcolor="#cccfd6">
	<tr>
        <td bgcolor="#f9f9f9" class="action" align="center"><a class="navlink" href="index.php-n=PmWiki.UrlApprovals_action=edit.html">edit</a></td>
<td bgcolor="#f9f9f9" class="action" align="center"><a class="navlink" href="index.php-n=PmWiki.UrlApprovals_action=upload.html">upload</a></td>
<td bgcolor="#f9f9f9" class="action" align="center"><a class="navlink" href="index.php-n=Site.AllRecentChanges.html" rel="external">recent</a></td>
<td bgcolor="#f9f9f9" class="action" align="center"><a class="navlink" href="index.php-n=PmWiki.UrlApprovals_action=print.html" rel="external">print</a></td>
	
	</tr>
	</table>
</td>
</tr></table>
</td></tr>


<tr>
  <td><!-- top horizontal bar -->
    <table cellspacing="0" cellpadding="0" border="0" width="100%">
    <tr><td height=0 bgcolor=#cccfd6></td></tr>
    <tr>
      <td bgcolor="#fcfcfc" style="padding-left: 10px">
        <table cellpadding="0" cellspacing="0" border="0">
        <tr>

		<td valign="top" style="padding-top: 16px" bgcolor="#fcfcfc">

<table cellspacing="2" cellpadding="0" border="0" bgcolor="#CCCFD6" width="100%">
		<tr><td class="searchheader" height=20>
        <strong><a href='index.php-n=Site.Search.html'>Search</a></strong>
		     </td>
    </tr>

		<tr><td class="searchcell">
       <form action='https://rednoise.org/teaching/wdm/index.php?n=Site.Search'>
        <input type="hidden" name="pagename" value="Site/Search" />
        <input class="navinput" size="10" type="text" name="q" value="" />
        <input class="navbutton" type="submit" value="Go" />
        </form>
		  </td>
    </tr>

</table>
		<br>
<table cellspacing="2" cellpadding="0" border="0" bgcolor="#CCCFD6" width="100%">

  <tr><td id='wikileft' height=2000
valign=top>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<ul><li><a class='wikilink' href='index.php-n=Main.HomePage.html'><strong><span style='font-size:120%'>Home</span></strong></a>
<div class='vspace'></div></li><li><a class='wikilink' href='index.php-n=Main.Slides.html'>Slides</a>
</li><li><a class='wikilink' href='index.php-n=Main.Assignments.html'>Assignments</a>
</li><li><a class='wikilink' href='index.php-n=Main.Readings.html'>Readings</a>
</li><li><a class='wikilink' href='index.php-n=Main.Freedom.html'>Freedom</a>
</li><li><a class='wikilink' href='index.php-n=Main.Questions.html'>Questions</a>
</li><li><a class='wikilink' href='index.php-n=Main.Grading.html'>Grading</a>
<div class='vspace'></div></li><li><a class='wikilink' href='index.php-n=Main.Artists.html'>Artists</a>
</li><li><a class='wikilink' href='index.php-n=Main.ShortShorts.html'>ShortShorts</a>
</li><li><a class='wikilink' href='index.php-n=Main.Presentations.html'>Presentations</a>
</li><li><a class='urllink' href='http://www.rednoise.org/rita/' rel='nofollow'>The RiTa Library</a>
</li><li><a class='wikilink' href='index.php-n=Main.EditorExamples.html'>RiTa @p5js-editor</a>
</li><li><a class='wikilink' href='index.php-n=Main.Works.html'>ExampleWorks</a>
</li><li><a class='wikilink' href='index.php-n=Main.Exercises.html'>WritingIdeas</a>
</li><li><a class='wikilink' href='index.php-n=Main.PoeticForms.html'>PoeticForms</a>
</li><li><a class='wikilink' href='index.php-n=Main.Techniques.html'>Techniques</a>
</li><li><a class='wikilink' href='index.php-n=Main.TwitterBots.html'>TwitterBots</a>
<div class='vspace'></div></li><li><a class='urllink' href='http://processing.org/reference/' rel='nofollow'>P5.js Reference</a>
</li><li><a class='urllink' href='http://www.rednoise.org/rita/reference' rel='nofollow'>The RiTa API</a>
</li><li><a class='urllink' href='http://www.rednoise.org/tweeter/doc' rel='nofollow'>Tweeter API</a>
</li><li><a class='urllink' href='http://docs.oracle.com/javase/6/docs/api' rel='nofollow'>Java API</a>
</li><li><a class='urllink' href='http://processing.org/reference/' rel='nofollow'>Processing API</a>
</li><li><a class='urllink' href='http://twitter4j.org/oldjavadocs/4.0.2' rel='nofollow'>Twitter4j API</a>
</li><li><a class='wikilink' href='index.php-n=Main.Grammars.html'>Grammars</a>
</li><li><a class='wikilink' href='index.php-n=Main.N-Grams.html'>N-Grams</a>
<div class='vspace'></div></li><li><a class='wikilink' href='index.php-n=Site.SideBar_action=edit.html'>SideBar</a>
</li></ul>

                   <!--Main.SideBar-->
        </td>
  </tr>

		</table>

    <!--/PageLeftFmt-->

		</td>

		<td valign="top" bgcolor=#fcfcfc>
		<table cellspacing="0" cellpadding="0" border="0" width=640>
  		<tr>
    		<td bgcolor="#fcfcfc" style="padding-left: 10px; padding-top: 12px; padding-right: 15px">

                <!--PageTitleFmt-->
                <strong><h2 class="titletext">
                   <a href="index.php-n=PmWiki.PmWiki.html">PmWiki</a> &raquo; 
                   <a href="index.php-n=PmWiki.UrlApprovals.html">UrlApprovals</a>
                </h2></strong>

<div style="width: 50em; margin-right:10px; margin-left:10px">
                <!--PageText-->
<div id='wikitext'>
<p>
<a name='trailstart' id='trailstart'></a> 
</p><div style='clear:right; float:right; font-size:smaller; background-color:#eee;' >
<p><span class='wikitrail'>&lt; <a class='wikilink' href='index.php-n=PmWiki.RefCount.html'>Ref count</a> | <a class='wikilink' href='index.php-n=PmWiki.DocumentationIndex.html#trailstart'>Documentation Index</a> | <a class='wikilink' href='index.php-n=PmWiki.Variables.html'>Variables</a> &gt;</span> 
</p></div>
<div style='clear:right;' >
</div>
<p>This page explains how to discourage "link spamming" on your wiki site using PmWiki's <em>urlapprove.php</em> script. This script is already included in PmWiki files, but not activated by default.
</p>
<div class='vspace'></div><h2>Using <em>urlapprove.php</em></h2>
<p>Occasionally <a class='categorylink' href='index.php-n=Category.Spam.html'>spam</a>mers may try to add large number of (sometimes hidden) URLs to pages because they think it will improve their search engine rankings -- which it <a href='index.php-n=PmWiki.UrlApprovals.html#nofollow'>probably won't</a>.  The <em>urlapprove.php</em> script works against these spammers' purpose by
</p>
<div class='vspace'></div><ul><li>requiring approval of links to Internet sites before a link to them are created in the wiki, and
</li><li>allowing you to limit the number of unapproved links that may be added to a page.
</li></ul><p class='vspace'>To enable <em>urlapprove.php</em>, add the following line to a configuration file:
</p>
<div class='vspace'></div><div class='indent'><code class='escaped'>include_once("$FarmD/scripts/urlapprove.php");</code>
</div><p class='vspace'>By default, unapproved links display what ever should be displayed normally (the URL or a text), but not linked and next to it a link <span style='font-size:83%'><span  style='color: blue;'>(approve links)</span></span>.
A click on the link will approve all unapproved URLs on the page, <span  style='color: green;'>but <em>only</em> if you are authorized to edit the <em>SiteAdmin.ApprovedUrls</em> page</span>.  You may also pre-approve sites by by adding them directly to the <a class='createlinktext' rel='nofollow'
    href='index.php-n=SiteAdmin.ApprovedUrls_action=edit.html'>SiteAdmin.ApprovedUrls</a><a rel='nofollow' 
    class='createlink' href='index.php-n=SiteAdmin.ApprovedUrls_action=edit.html'>?</a> page.
</p>
<div class='vspace'></div><h3>Limiting unapproved urls per page</h3>
<p>You can limit the number of unapproved links per page. If the limit is exceeded, the page cannot be saved.  This is useful because spammers like to write long link lists, which is rare for normal authors.
</p>
<p class='vspace'>Example: To set the limit to 5 unapproved links, add the following line to a configuration file:
</p>
<div class='vspace'></div><div class='indent'><code class='escaped'>$UnapprovedLinkCountMax = 5;</code>
</div><div class='indent'><code class='escaped'>include_once('scripts/urlapprove.php');</code>
</div><p class='vspace'>Note that &#36;UnapprovedLinkCountMax must be set <em>before</em> including the <em>urlapprove.php</em> script.
</p>
<div class='vspace'></div><h3>Handling of Unapproved Links</h3>
<p>You can also change the disapproval message defined in the &#36;UnapprovedLinkFmt variable, for example:
</p>
<div class='vspace'></div><div class='indent'><pre class='escaped'>
include_once('scripts/urlapprove.php');
$UnapprovedLinkFmt =
 "[$[Link requires approval]]&lt;a class='apprlink'
  href='\$PageUrl?action=approvesites'&gt;$[(approve)]&lt;/a&gt;";
</pre>
</div><p class='vspace'>"Link requires approval" is whatever you want to see in place of the unapproved link and "(approve)" is the blue text. Using this feature may prove usefull if you want to always hide the unapproved link.
</p>
<p class='vspace'>If you wish to totally forbid unapproved links you can use
</p>
<div class='vspace'></div><div class='indent'><code class='escaped'>$UnapprovedLinkFmt = "&lt;b&gt;external link not allowed&lt;/b&gt;";</code>
</div><div class='vspace'></div><h3>SideBar caveat <a name='sidebar' id='sidebar'></a></h3>
<p>Please note that in general you need to go to the sidebar page in order to approve links in the sidebar. The reason for this is that the approve mechanism only approves links on the <em>current</em> page.
</p>
<div class='vspace'></div><h3>Initial setup</h3>
<p>After initial setup all existing links become unapproved. You need to visit your pages and approve all links, where needed. See <a class='wikilink' href='index.php-n=Site.AllRecentChanges.html'>AllRecentChanges</a> for a list of all pages that were created on your wiki.
</p>
<div class='vspace'></div><h2>Password approval of URLs</h2>
<p>To approve external links, an author needs permissions to edit the page <a class='createlinktext' rel='nofollow'
    href='index.php-n=SiteAdmin.ApprovedUrls_action=edit.html'>SiteAdmin.ApprovedUrls</a><a rel='nofollow' 
    class='createlink' href='index.php-n=SiteAdmin.ApprovedUrls_action=edit.html'>?</a>.
</p>
<div class='vspace'></div><h2>Technical tips</h2>
<p><a name='whiteurls' id='whiteurls'></a>
</p><h3>URL Whitelist</h3>
<p>Urls can also be approved by adding them to a "white list", 
defined in the variable <code>&#36;WhiteUrlPatterns</code>, 
which is set in the <em>local/config.php</em> file.<br />To add multiples urls, use the separator <code>|</code> (vertical bar).  For example:
</p>
<div class='vspace'></div><div class='indent'><pre class='escaped'>
$WhiteUrlPatterns =
  "(http://example.com|http://example.net|http://example.org)";
</pre>
</div><p class='vspace'>To add all urls from, say New Zealand and Australia, use:
</p>
<div class='vspace'></div><div class='indent'><pre class='escaped'>
$WhiteUrlPatterns[] = 'http://[^/]+\\.nz';
$WhiteUrlPatterns[] = 'http://[^/]+\\.au';
</pre>
</div><div class='vspace'></div><h3>Change Approved URLs page name</h3>
<p>If you want to change the default name of <em>SiteAdmin.ApprovedUrls</em>, set the following in <em>local/config.php</em>:
</p>
<div class='vspace'></div><div class='indent'><code class='escaped'>$ApprovedUrlPagesFmt = array('OtherGroup.OtherName');</code>
</div><div class='vspace'></div><h3>Previewing the unapproved URL</h3>
<p>To see what link is to be approved without editing the page a tool tip can be displayed when the cursor hovers over the <span style='font-size:83%'><span  style='color: blue;'>(approve links)</span></span> link that displays the URL. e.g. <a class='urllink' href='http://uuu.example.com' rel='nofollow'>Example</a>.
</p>
<p class='vspace'>Add the following setting in your <em>local/config.php</em>:
</p>
<div class='vspace'></div><div class='indent'><pre class='escaped'>
$UnapprovedLinkFmt =
  "\$LinkText&lt;a class='apprlink' href='\$PageUrl?action=approvesites'
   title='\$LinkUrl'&gt;$[(approve links)]&lt;/a&gt;";
</pre>
<div class='vspace'></div></div><div class='indent'>Some browsers show only the link and not the tooltip title. In this case, you can use the following code to see the unapproved link at the end of the tooltip :
</div><div class='indent'><pre class='escaped'>$UnapprovedLinkFmt =
  "\$LinkText&lt;a class='apprlink' href='\$PageUrl?action=approvesites&amp;XES_url=\$LinkUrl'
   title='\$LinkUrl'&gt;$[(approve sites)]&lt;/a&gt;";
</pre>
</div><div class='vspace'></div><h2>About rel='nofollow' <a name='nofollow' id='nofollow'></a></h2>
<p>By default, PmWiki creates external links that are not followed by search engines.  
Here are release notes from pmwiki-2.0.beta20 (30-Jan-2005):
</p>
<div class='vspace'></div><div class='indent'><em>First, the <a class='varlink' href='index.php-n=PmWiki.LinkVariables.html#UrlLinkFmt'><code class='varlink'>&#36;UrlLinkFmt</code></a> variable has been modified so that links to external urls automatically have a rel='nofollow' attribute added to them, to help combat wiki spam as described in <a class='urllink' href='http://googleblog.blogspot.com/2005/01/preventing-comment-spam.html' rel='nofollow'>http://googleblog.blogspot.com/2005/01/preventing-comment-spam.html</a>. Site administrators can customize <a class='varlink' href='index.php-n=PmWiki.LinkVariables.html#UrlLinkFmt'><code class='varlink'>&#36;UrlLinkFmt</code></a> and &#36;UnapprovedLinkFmt to supply or omit rel='nofollow' as appropriate.</em>
</div><div class='vspace'></div><h2>See Also</h2>
<ul><li><a class='wikilink' href='index.php-n=PmWiki.Blocklist.html'>Blocklist</a> - Blocking postings based on content or IP address
</li><li><a class='wikilink' href='index.php-n=PmWiki.Security.html'>Security</a> - Securing your PmWIki
</li></ul><p> 
</p><div style='clear:right; float:right; font-size:smaller; background-color:#eee;' >
<p><span class='wikitrail'>&lt; <a class='wikilink' href='index.php-n=PmWiki.RefCount.html'>Ref count</a> | <a class='wikilink' href='index.php-n=PmWiki.DocumentationIndex.html#trailstart'>Documentation Index</a> | <a class='wikilink' href='index.php-n=PmWiki.Variables.html'>Variables</a> &gt;</span> 
</p></div>
<p><a name='trailend' id='trailend'></a>
<br clear='all' />
</p><div  style='background-color: #ffe; border-top: 1px solid black; font-size: .8em;' > 
<p>This page may have <span class='commentout-pmwikiorg'> a more recent version on <a class='urllink' href='http://www.pmwiki.org' rel='nofollow'>pmwiki.org</a>: <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/UrlApprovals' rel='nofollow'>PmWiki:UrlApprovals</a>, and </span> a talk page: <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/UrlApprovals-Talk' rel='nofollow'>PmWiki:UrlApprovals-Talk</a>.
</p></div>
</div>

</div>

	    	</td>
  	</tr>
	</table>

   </td>
   <td width=200 align=right valign=top><br>

   <table cellspacing="2" cellpadding="0" border="0" width=200
bgcolor="#CCCFD6">
      <tr><td id='wikiright' height=2075 valign=top>
         <p  style='text-align: right;'> <a class='urllink' href='http://rednoise.org/~dhowe/' rel='nofollow'><strong><span style='font-size:83%'>Instructor: Dr. Daniel C. Howe</span></strong></a>
</p><h1>Resources</h1>
<ul><li><a class='urllink' href='http://p-dpa.net/' rel='nofollow'>Post-Digital</a>
</li><li><a class='urllink' href='http://www.arras.net/' rel='nofollow'>Arras.Net</a>
</li><li><a class='urllink' href='http://iloveepoetry.com/' rel='nofollow'>I Love ePoetry</a>
</li><li><a class='urllink' href='http://whitney.org/Exhibitions/Artport/Commissions/Codedoc' rel='nofollow'>CODeDoc</a>
</li><li><a class='urllink' href='http://www.thecontinentalreview.com/' rel='nofollow'>ContinentalReview</a>
</li><li><a class='urllink' href='http://www.drunkenboat.com/' rel='nofollow'>DrunkenBoat</a>
</li><li><a class='urllink' href='http://www.eastgate.com/ReadingRoom.html#' rel='nofollow'>Eastgate Systems</a>
</li><li><a class='urllink' href='http://www.electronicbookreview.com/' rel='nofollow'>Electronic Book Review</a>
</li><li><a class='urllink' href='https://eliterature.org/' rel='nofollow'>The Electronic Literature Org.</a>
</li><li><a class='urllink' href='http://collection.eliterature.org/1/' rel='nofollow'>E-Literature Collection 1</a>
</li><li><a class='urllink' href='http://collection.eliterature.org/2/' rel='nofollow'>E-Literature Collection 2</a>
</li><li><a class='urllink' href='http://collection.eliterature.org/3/' rel='nofollow'>E-Literature Collection 3</a>
</li><li><a class='urllink' href='http://newhorizons.eliterature.org/index.php.html' rel='nofollow'>New Horizons For The Literary</a>
</li><li><a class='urllink' href='http://writing.upenn.edu/epc/' rel='nofollow'>Electronic Poetry Center</a>
</li><li><a class='urllink' href='https://elmcip.net/' rel='nofollow'>The ELMCIP Database</a>
</li><li><a class='urllink' href='https://grandtextauto.soe.ucsc.edu/' rel='nofollow'>Grand Text Auto</a>
</li><li><a class='urllink' href='http://www.writing.upenn.edu/wh/' rel='nofollow'>Kelly Writers House</a>
</li><li><a class='urllink' href='https://www.cddc.vt.edu/journals/newriver/' rel='nofollow'>New River Journal</a>
</li><li><a class='urllink' href='http://nt2.uqam.ca/en/search/site/?f%5B0%5D=type:repertoire&retain-filters=1' rel='nofollow'>ALN / NT2</a>
</li><li><a class='urllink' href='http://www.writing.upenn.edu/pennsound/' rel='nofollow'>PENNsound</a>
</li><li><a class='urllink' href='http://www.ubu.com/' rel='nofollow'>UbuWeb</a> 
</li><li><a class='urllink' href='http://www.springgunpress.com' rel='nofollow'>Spring Gun Journal</a>
</li><li><a class='urllink' href='http://www.turbulence.org/' rel='nofollow'>Turbulence</a>
</li><li><a class='urllink' href='http://artport.whitney.org/' rel='nofollow'>The Whitney ARTPORT</a>
</li><li><a class='urllink' href='http://cellproject.net/' rel='nofollow'>E-Literature Consortium</a>
</li><li><a class='urllink' href='http://paper.li/eliterature' rel='nofollow'>This Week in E-Lit</a>
</li></ul><p class='vspace'><br />
</p><ul><li><a class='wikilink' href='index.php-n=Site.RightSideBar_action=edit.html'>SideBar</a>
</li></ul>

         <!--Main.SideBar-->
      </td></tr>
    </table>

  </td>
</tr>
</table>

</td>
</tr>
<!--PageFooterFmt-->
<tr>
  <td align="right" class="update">
    <div class='lastmod'>Page last modified on September 10, 2011, at 12:08 PM EST</div></div>
  </td>
</tr>
<!--/PageFooterFmt-->
</table>
</td>
</tr>

<tr>
<td align="right" class="copyright">
	&copy;howe
</td>
</tr>

</table>

</body>
</html>
