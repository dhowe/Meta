<!DOCTYPE html 
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <title>Writing Digital Media | PmWiki / SitePageActions</title>
  <link rel='stylesheet' href='pub/skins/print/print.css' type='text/css' />
  <!--HTMLHeader--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  .editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none;}

--></style>  <meta name='robots' content='noindex,nofollow' />

</head>
<body>
  <div id='printhead'>
    <h3>From Writing Digital Media</h3>
    <h1 class='pagename'><a href='index.php-n=PmWiki.PmWiki.html'>PmWiki: SitePageActions</a></h1>
  </div>
<!--PageText-->
<div id='wikitext'>
<p><span class='audience'> authors (basic)</span>
</p>
<p class='vspace'>The <a class='wikilink' href='index.php-n=Site.PageActions_action=print.html'>Site.PageActions</a> page is used as the source of the <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/AvailableActions#defaultactions' rel='nofollow'>default wiki commands</a> shown in the default PmWiki skin at the top right of the page. It displays as follows:
<br clear='all' />
</p><div id='wikicmds' class='float' >
<ul><li class='browse'>      <a accesskey=''  rel='nofollow'  class='selflink' href='index.php-n=PmWiki.SitePageActions.html'>View</a>
</li><li class='edit'>      <a accesskey='e'  rel='nofollow'  class='wikilink' href='index.php-n=PmWiki.SitePageActions_action=print.html'>Edit</a>
</li><li class='diff'>   <a accesskey='h'  rel='nofollow'  class='wikilink' href='index.php-n=PmWiki.SitePageActions_action=print.html'>History</a>
</li><li class='print'>     <a accesskey=''  rel='nofollow'  class='wikilink' href='index.php-n=PmWiki.SitePageActions_action=print.html'>Print</a>
</li><li class='backlinks'> <a accesskey=''  rel='nofollow'  class='wikilink' href='index.php-n=PmWiki.SitePageActions_action=print.html'>Backlinks</a>
</li></ul></div>
<p><br clear='all' />
Note that there are many other <a class='wikilink' href='index.php-n=PmWiki.AvailableActions_action=print.html'>available actions</a> from the <a class='createlinktext' rel='nofollow'
    href='index.php-n=Cookbook.Cookbook_action=edit.html'>Cookbook</a><a rel='nofollow' 
    class='createlink' href='index.php-n=Cookbook.Cookbook_action=edit.html'>?</a>, and PmWiki diagnostics and scripts.
</p>
<p class='vspace'>This page gives a brief explanation of how <a class='wikilink' href='index.php-n=Site.PageActions_action=print.html'>Site.PageActions</a> are displayed and formatted, and pointers to where more information can be found.
</p>
<p class='vspace'>Below is what is shipped as <a class='wikilink' href='index.php-n=Site.PageActions_action=print.html'>Site.PageActions</a> with PmWiki version 2.2:
</p><div class='indent'><pre class='escaped'>
* %item rel=nofollow class=browse    accesskey='$[ak_view]'%      [[{*$FullName}               | $[View] ]]
* %item rel=nofollow class=edit      accesskey='$[ak_edit]'%      [[{*$FullName}?action=edit   | $[Edit] ]]
* %item rel=nofollow class=diff      accesskey='$[ak_history]'%   [[{*$FullName}?action=diff   | $[History] ]]
(:if auth upload:)
* %item rel=nofollow class=upload    accesskey='$[ak_attach]'%    [[{*$FullName}?action=upload | $[Attach] ]]
(:ifend:)
* %item rel=nofollow class=print     accesskey='$[ak_print]'%     [[{*$FullName}?action=print  | $[Print] ]]
(:if group Site,SiteAdmin,Cookbook,Profiles,PmWiki*:) (:comment delete if and ifend to enable backlinks:)
* %item rel=nofollow class=backlinks accesskey='$[ak_backlinks]'% [[{*$Name}?action=search&amp;q=link={*$FullName} | $[Backlinks] ]]
(:ifend:)
(:if enabled AuthPw:)
* %item rel=nofollow class=logout    accesskey="$[ak_logout]"%''  [-[[{*$FullName}?action=logout | $[Logout] ]]-]''
(:ifend:)
</pre>
</div><p class='vspace'>To start with, we'll look at just the first line, and take it apart. This will also give us a good handle on how most of the other lines work.
</p>
<div class='vspace'></div><h2>List</h2>
<p>Each line is an item in an unordered <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/MarkupMasterIndex#Lists' rel='nofollow'>list</a>, marked up by an unindented '<code>*</code>'. 
You can find out more about lists on the <a class='wikilink' href='index.php-n=PmWiki.BasicEditing_action=print.html'>Basic Editing</a> page.
</p>
<p class='vspace'>PmWiki will normally display an unordered list as a set of bulleted items, but they can appear differently depending on the context and styles they are displayed in. This difference in display is generally controlled by CSS defined in the <a class='wikilink' href='index.php-n=PmWiki.Skins_action=print.html'>Skin</a>: for the PageActions links, the list items are displayed inline.
</p>
<div class='vspace'></div><h2>Style</h2>
<p>Following the '<code class='escaped'>*</code>', on the line we have <code class='escaped'>%item ... %</code> which is a <a class='wikilink' href='index.php-n=PmWiki.WikiStyles_action=print.html'>WikiStyle</a>. It is used to control the properties of a given output element, like its size or color. By default they apply to the text between them and the end of the line or a closing <code class='escaped'>%%</code>, whichever is sooner. So, for example, one can enter <code class='escaped'>"this %blue%text%% is blue"</code> and it will appear as "this <span  style='color: blue;'>text</span> is blue".
</p>
<p class='vspace'>In this case the WikiStyle starts with the word <code class='escaped'>item</code>, and that says to apply the given style to the entire list item as opposed to just the text that follows. In particular, it causes PmWiki to generate HTML of
</p>
<div class='vspace'></div><div class='indent'><code class='escaped'>&lt;li class='edit'&gt;...&lt;/li&gt;</code>
</div><p class='vspace'>instead of
</p>
<div class='vspace'></div><div class='indent'><code class='escaped'>&lt;li&gt;&lt;span class='edit'&gt;...&lt;/span&gt;&lt;/li&gt;</code>
</div><p class='vspace'>Setting the class attribute of the list item allows CSS properties to be applied to the item that corresponds to the current action. For example, to have the current action display with a background color of blue, a wiki administrator can do:
</p>
<div class='vspace'></div><div class='indent'><code><a class='varlink' href='index.php-n=PmWiki.LayoutVariables.html#HTMLStylesFmt'><code class='varlink'>&#36;HTMLStylesFmt</code></a>[]</code><code class='escaped'> = ' .{$Action} { background-color: blue; }';</code>
</div><p class='vspace'>Then if the current action is 'edit' (as in "?action=edit"), the list item corresponding to the edit action will be drawn with a blue background.
</p>
<p class='vspace'>The other property inside the <code class='escaped'>%item ... %</code> WikiStyle is the accesskey='' statement. <a class='wikilink' href='index.php-n=PmWiki.AccessKeys_action=print.html'>AccessKeys</a> are keyboard shortcuts for tasks that would otherwise require a mouse. They can be attached to links or to form elements and the WikiStyle will use whichever it finds first on the line. In this case they will attach to the link <code class='escaped'>[[{*$FullName} | $[View] ]]</code>.
</p>
<div class='vspace'></div><h2>Accesskey</h2>
<p>An accesskey can be defined in a number of locations, but essentially it is a phrase translation following the model used for internationalizations. PmWiki's accesskey defaults are defined in <code>scripts/prefs.php</code>, but can be overridden in lots of different places, including skins, language translation pages (XLPage), and even per-browser preferences (see <a class='wikilink' href='index.php-n=Site.Preferences_action=print.html'>Site.Preferences</a>).
</p>
<p class='vspace'>The <code class='escaped'>$[...]</code> markup defines phrase translations, used for internationalizations (and access keys, as noted above). In the first line of <a class='wikilink' href='index.php-n=Site.PageActions_action=print.html'>Site.PageActions</a> it is used in both <code class='escaped'>$[ak_view]</code> and <code class='escaped'>$[View]</code>. Essentially <code class='escaped'>$[View]</code> tells PmWiki to substitute the current translation of "View".  If no translation is defined for "View", then PmWiki just uses the phrase inside the brackets.
</p>
<p class='vspace'>You can most easily see this working in the other languages sections of PmWiki. For example, at <a class='urllink' href='http://pmwiki.org/wiki/PmWikiDe/PmWikiDe' rel='nofollow'>PmWikiDe/PmWikiDe</a> you'll notice that the default "View", "Edit", "History", and "Print" actions are displayed as "Artikel", "Bearbeiten", "Historie", and "Druckansicht".
This is because the PmWikiDe group is loading in a set of translations from <a class='urllink' href='http://pmwiki.org/wiki/PmWikiDe.XLPage' rel='nofollow'>PmWikiDe.XLPage</a> 
</p>
<p class='vspace'>That page defines things like
</p>
<div class='vspace'></div><div class='indent'><pre class='escaped'>'View' =&gt; 'Artikel'
'Edit' =&gt; 'Bearbeiten'
'History' =&gt; 'Historie'
'Print' =&gt; 'Druckansicht'</pre>
</div><p class='vspace'>which says that things like <code class='escaped'>$[View]</code> and <code class='escaped'>$[Edit]</code> should be replaced by "Artikel" and "Bearbeiten".
</p>
<p class='vspace'>This makes it very easy for PmWiki to support multiple languages, since a recipe author can simply put any translatable prompts or phrases inside of <code class='escaped'>$[...]</code>, and leave it to others to actually build the translation tables (either locally or on <a class='urllink' href='http://pmwiki.org' rel='nofollow'>pmwiki.org</a> for others to use). More information about <code class='escaped'>$[...]</code> is available at <a class='wikilink' href='index.php-n=PmWiki.Internationalizations_action=print.html'>Internationalizations</a>.
</p>
<div class='vspace'></div><h2>Link</h2>
<p>All that leaves on the first line to be explained is the <a class='wikilink' href='index.php-n=PmWiki.Links_action=print.html'>link</a> itself: <code class='escaped'>[[{*$FullName} | $[View] ]]</code>. Links are not complex, but this one is using both the internationalization feature and a <a class='wikilink' href='index.php-n=PmWiki.PageVariables_action=print.html'>Page Variable</a>. The <code class='escaped'>$[View]</code> has already been explained and it shows up in the link text section of link markup, so that, if viewed in English, the link will appear as <a class='selflink' href='index.php-n=PmWiki.SitePageActions.html'>View</a>.
</p>
<p class='vspace'>The link target section contains the <code class='escaped'>{*$FullName}</code> variable. This variable expands to the full name of the page on which it is being displayed, including the group and page names. For simple browsing, this is good enough, because viewing a page is the default action to perform on a page. Later lines use link targets like <code class='escaped'>{*$FullName}?action=edit</code> which says to go to the currently displayed page and start editing it.
</p>
<div class='vspace'></div><h2>If</h2>
<p>This explains what all of the '<code class='escaped'>*</code>' lines are about. That only leaves the <code class='escaped'>(:if auth upload:)</code> and <code class='escaped'>(:ifend:)</code> lines, and they go together. The first starts some <a class='wikilink' href='index.php-n=PmWiki.ConditionalMarkup_action=print.html'>Conditional Markup</a> and the second ends it. The <code class='escaped'>(:if test :)</code> markup only lets the following text be displayed if the test succeeds. The text that conditionally displayed ends at the next <code class='escaped'>(:if...:)</code> statement so an empty <code class='escaped'>(:ifend:)</code> is a convenient way to end the conditional block. The particular test being used here is <code class='escaped'>auth upload</code> which is only true if the current user is authorized to upload files to the wiki. Thus, the conditional block says to only display a link to perform an upload if the user is actually allowed to upload.
</p>
<p class='vspace'>Depending on the security and permissions model on a given site, its not unusual to see many more conditional markups that test if, for example, a user has editing rights to the current page. More information on all the different conditions can be found at the <a class='wikilink' href='index.php-n=PmWiki.ConditionalMarkup_action=print.html'>Conditional Markup</a> page, and a general index of all the PmWiki documentation can be found at <a class='wikilink' href='index.php-n=PmWiki.DocumentationIndex_action=print.html'>Documentation Index</a>.
</p>
<p class='vspace'>Hopefully this bit of documentation has answered your questions about the <a class='wikilink' href='index.php-n=Site.PageActions_action=print.html'>Site.PageActions</a> page. 
If not, you may wish to consult the helpful people on one of the <a class='wikilink' href='index.php-n=PmWiki.MailingLists_action=print.html'>PmWiki Mailing Lists</a>.
</p>
<div class='vspace'></div><h2>Group PageActions</h2>
<p>Note that any Group can have a PageActions page, not just <strong>Site</strong>. If a page named Group.PageActions exists, it will be used, otherwise, Site.PageActions, much like for the SideBar pages.
</p>
</div>

  <div id='printfoot'>
    <div class='from'>Retrieved from https://rednoise.org/teaching/wdm/index.php?n=PmWiki.SitePageActions</div>
    <div class='lastmod'>Page last modified on May 01, 2012, at 11:39 AM EST</div></div>
<!--HTMLFooter-->
</body>
</html>
